<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.0.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/2023zjude-ORG030/images/1-apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/2023zjude-ORG030/images/1-favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/2023zjude-ORG030/images/1-favicon-16x16.png">
  <link rel="mask-icon" href="/2023zjude-ORG030/images/safari-pinned-tab.svg" color="#222">

<link rel="stylesheet" href="/2023zjude-ORG030/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha256-yIDrPSXHZdOZhAqiBP7CKzIwMQmRCJ8UeB8Jo17YC4o=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/silver/pace-theme-minimal.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"nexmaker-fab.github.io","root":"/2023zjude-ORG030/","images":"/2023zjude-ORG030/images","scheme":"Gemini","darkmode":true,"version":"8.19.1","exturl":false,"sidebar":{"position":"left","display":"always","padding":18,"offset":12},"copycode":{"enable":true,"style":"mac"},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":true,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/2023zjude-ORG030/js/config.js"></script>

    <meta name="description" content="Hardware Selection &amp; Technical Solution TestingPART1. Hardware Selection for Object RecognitionObjective: To find a technical solution capable of recognizing various placed objects and playing cor">
<meta property="og:type" content="website">
<meta property="og:title" content="Hardware Selection &amp; Technical Solution Testing">
<meta property="og:url" content="https://nexmaker-fab.github.io//2023zjude-ORG030/Final%20Project/Technology%20Implementation/Hardware%20Selection%20&%20Technical%20Solution%20Testing/index.html">
<meta property="og:site_name" content="ORG030">
<meta property="og:description" content="Hardware Selection &amp; Technical Solution TestingPART1. Hardware Selection for Object RecognitionObjective: To find a technical solution capable of recognizing various placed objects and playing cor">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2024-01-01T16:53:50.000Z">
<meta property="article:modified_time" content="2024-01-01T16:53:50.000Z">
<meta property="article:author" content="Adrenaline">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://nexmaker-fab.github.io//2023zjude-ORG030/Final%20Project/Technology%20Implementation/Hardware%20Selection%20&%20Technical%20Solution%20Testing/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":false,"lang":"en","comments":true,"permalink":"https://nexmaker-fab.github.io//2023zjude-ORG030/Final%20Project/Technology%20Implementation/Hardware%20Selection%20&%20Technical%20Solution%20Testing/index.html","path":"Final Project/Technology Implementation/Hardware Selection & Technical Solution Testing/index.html","title":"Hardware Selection & Technical Solution Testing"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Hardware Selection & Technical Solution Testing | ORG030
</title>
  








  <noscript>
    <link rel="stylesheet" href="/2023zjude-ORG030/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/2023zjude-ORG030/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">ORG030</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">DEEP SEA BIG PINEAPPLE GROUP</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/2023zjude-ORG030/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/2023zjude-ORG030/About/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-assignment"><a href="/2023zjude-ORG030/Assignment/" rel="section"><i class="fa fa-book fa-fw"></i>Assignment</a></li><li class="menu-item menu-item-final-project"><a href="/2023zjude-ORG030/Final%20Project/" rel="section"><i class="fa fa-rocket fa-fw"></i>Final Project</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Hardware-Selection-Technical-Solution-Testing"><span class="nav-number">1.</span> <span class="nav-text">Hardware Selection &amp; Technical Solution Testing</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#PART1-Hardware-Selection-for-Object-Recognition"><span class="nav-number">1.1.</span> <span class="nav-text">PART1. Hardware Selection for Object Recognition</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Basic-Introduction"><span class="nav-number">1.1.1.</span> <span class="nav-text">Basic Introduction</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Working-Principle"><span class="nav-number">1.1.2.</span> <span class="nav-text">Working Principle</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Testing-Code"><span class="nav-number">1.1.3.</span> <span class="nav-text">Testing Code</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PART2-Microcontroller-Selection"><span class="nav-number">1.2.</span> <span class="nav-text">PART2. Microcontroller Selection</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PART3-Music-Playback-Hardware-Selection"><span class="nav-number">1.3.</span> <span class="nav-text">PART3. Music Playback Hardware Selection</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Final-Hardware-Selection-for-the-Solution"><span class="nav-number">1.4.</span> <span class="nav-text">Final Hardware Selection for the Solution</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Hardware-and-Code-Testing-Process"><span class="nav-number">2.</span> <span class="nav-text">Hardware and Code Testing Process</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-Implementation-of-Basic-Hardware-Functions"><span class="nav-number">2.1.</span> <span class="nav-text">(1) Implementation of Basic Hardware Functions</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-Complete-Prototype-Functionality-Implementation"><span class="nav-number">2.2.</span> <span class="nav-text">(2) Complete Prototype Functionality Implementation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-Optimize-the-visual-effects-for-the-preview-functionality"><span class="nav-number">2.3.</span> <span class="nav-text">(3) Optimize the visual effects for the preview functionality</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Complete-Technical-Solution"><span class="nav-number">3.</span> <span class="nav-text">Complete Technical Solution</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Hardware-Relationship-Explanation"><span class="nav-number">3.1.</span> <span class="nav-text">Hardware Relationship Explanation</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Code-flow-logic"><span class="nav-number">3.2.</span> <span class="nav-text">Code flow logic</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Components-List"><span class="nav-number">3.3.</span> <span class="nav-text">Components List</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Wiring-diagram-12-infrared-sensors-omitted"><span class="nav-number">3.4.</span> <span class="nav-text">Wiring diagram (12 infrared sensors omitted)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Final-functional-code"><span class="nav-number">3.5.</span> <span class="nav-text">Final functional code</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Prototype-layout-drawings"><span class="nav-number">3.6.</span> <span class="nav-text">Prototype layout drawings</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Grayscale-sensor-bracket-fabrication"><span class="nav-number">3.7.</span> <span class="nav-text">Grayscale sensor bracket fabrication</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Rapid-Prototype-Testing"><span class="nav-number">3.8.</span> <span class="nav-text">Rapid Prototype Testing</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Reference"><span class="nav-number">4.</span> <span class="nav-text">Reference</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Adrenaline"
      src="/2023zjude-ORG030/images/1-favicon-32x32.png">
  <p class="site-author-name" itemprop="name">Adrenaline</p>
  <div class="site-description" itemprop="description">Design program</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
  </nav>
</div>

        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="Back to top">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner page posts-expand">


    
    
    
    <div class="post-block" lang="en"><header class="post-header">

<h1 class="post-title" itemprop="name headline">Hardware Selection & Technical Solution Testing
</h1>

<div class="post-meta-container">
  <ul class="breadcrumb">
            <li><a href="/2023zjude-ORG030/Final%20Project/">FINAL PROJECT</a></li>
            <li><a href="/2023zjude-ORG030/Final%20Project/Technology%20Implementation/">TECHNOLOGY IMPLEMENTATION</a></li>
          <li>HARDWARE SELECTION & TECHNICAL SOLUTION TESTING</li>
  </ul>
</div>

</header>

      
      
      <div class="post-body">
          <h2 id="Hardware-Selection-Technical-Solution-Testing"><a href="#Hardware-Selection-Technical-Solution-Testing" class="headerlink" title="Hardware Selection &amp; Technical Solution Testing"></a>Hardware Selection &amp; Technical Solution Testing</h2><h3 id="PART1-Hardware-Selection-for-Object-Recognition"><a href="#PART1-Hardware-Selection-for-Object-Recognition" class="headerlink" title="PART1. Hardware Selection for Object Recognition"></a><strong>PART1.</strong> Hardware Selection for Object Recognition</h3><p><strong>Objective: To find a technical solution capable of recognizing various placed objects and playing corresponding sound effects.</strong></p>
<p>（1）Simulation of Piezoelectric Ceramic Sensors</p>
<p>Capable of recognizing only momentary vibrations, unable to detect sustained pressure, often used in touch-sensitive applications for fingertips.</p>
<p>Reference Tutorial:</p>
<p><a target="_blank" rel="noopener" href="https://wiki.dfrobot.com.cn/_SKU_DFR0052_%E6%A8%A1%E6%8B%9F%E5%8E%8B%E7%94%B5%E9%99%B6%E7%93%B7%E9%9C%87%E5%8A%A8%E4%BC%A0%E6%84%9F%E5%99%A8">https://wiki.dfrobot.com.cn/_SKU_DFR0052_%E6%A8%A1%E6%8B%9F%E5%8E%8B%E7%94%B5%E9%99%B6%E7%93%B7%E9%9C%87%E5%8A%A8%E4%BC%A0%E6%84%9F%E5%99%A8</a></p>
<p>[pic]</p>
<p>（2）Thin Film Pressure Sensor</p>
<p>Recognizes a small area, high solution cost, and requires complex accessory fabrication.</p>
<p>Reference Tutorial:<a target="_blank" rel="noopener" href="https://www.bilibili.com/read/cv24701144/">https://www.bilibili.com/read/cv24701144/</a></p>
<p>[pic]</p>
<p>（3）Color Recognition Sensor</p>
<p>Analog input demands are excessive, resulting in high solution costs.</p>
<p>Reference Tutorial:<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/644203142?utm_id=0">https://zhuanlan.zhihu.com/p/644203142?utm_id=0</a></p>
<p>[pic]</p>
<p>（4）Infrared Grayscale Sensor 【Selected Solution】</p>
<p>Requires only 1 analog input, simple wiring, and low-cost implementation.</p>
<p>Reference Tutorial:<a target="_blank" rel="noopener" href="https://www.cnblogs.com/eagler8/p/14494219.html">https://www.cnblogs.com/eagler8/p/14494219.html</a></p>
<p>[pic]</p>
<h4 id="Basic-Introduction"><a href="#Basic-Introduction" class="headerlink" title="Basic Introduction"></a><strong>Basic Introduction</strong></h4><p>The grayscale sensor is an analog sensor designed to be used in conjunction with Arduino Sensor Shield v5.0. It can sense different colors on the ground or tabletop, generating corresponding signals. This sensor enables interactive projects related to color and can be employed as a line-following sensor for robotic vehicles or for grayscale recognition in soccer robots. The power supply should match the controller, typically operating at 3.3V or 5V.</p>
<h4 id="Working-Principle"><a href="#Working-Principle" class="headerlink" title="Working Principle"></a><strong>Working Principle</strong></h4><p>The grayscale sensor consists of a bright white LED and a photosensitive resistor. Due to the reflection of the LED on different shades of paper, the photosensitive resistor receives varying amounts of reflected light. Depending on the intensity of the light, the resistance of the photosensitive resistor changes, allowing the testing of grayscale values.</p>
<p>Developed based on the semiconductor’s photoelectric effect principle, the light and grayscale sensor primarily employs a phototransistor. Within the effective detection range, the LED emits white light, which illuminates the detection surface. The surface reflects a portion of the light, causing the resistance of the phototransistor to decrease with increasing light intensity. Through series connection with a resistor, the voltage division value of the output resistor changes with the varying light signal, transforming it into an electrical signal output through the analog port. The LED on the board can be used for debugging purposes.</p>
<p>The grayscale sensor has three pins: Vcc for positive power, GND for ground, and OUT for the signal. In practical use, the sensor can be directly connected to the Arduino controller’s analog interface, such as analog port A0. After powering the Arduino, the sensor’s bright white LED lights up. Placing the sensor on papers of different shades, data can be read through the Arduino controller’s built-in AD conversion, and the measured analog value can be printed via serial communication.</p>
<p>The LED is connected in series with a 1K resistor, with the LED serving as the light source, shining on the detected object, and the 1K resistor limiting the current. The photosensitive resistor is connected in series with a 10K resistor. The photosensitive resistor has the characteristic of lower resistance with stronger light. When the LED shines on a white object, reflecting all light and resulting in high brightness, the photosensitive resistor has low resistance, low voltage division, and a high voltage output at the OUT point. Conversely, when the LED shines on a black object, absorbing all light and resulting in low brightness, the photosensitive resistor has high resistance, high voltage division, and a low voltage output at the OUT point.</p>
<h4 id="Testing-Code"><a href="#Testing-Code" class="headerlink" title="Testing Code"></a><strong>Testing Code</strong></h4><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">begin</span>(<span class="number">9600</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> val;</span><br><span class="line">  val=<span class="built_in">analogRead</span>(A0);</span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">print</span>(<span class="string">&quot;Gray scale:&quot;</span>);</span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">println</span>(val,DEC);</span><br><span class="line">  </span><br><span class="line">   <span class="keyword">if</span> (val &gt; <span class="number">940</span>) &#123;</span><br><span class="line">   <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot; white! &quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">if</span> (val &gt;= <span class="number">800</span> &amp;&amp; val &lt;= <span class="number">880</span>) &#123;</span><br><span class="line">    <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot; Nothing! &quot;</span>);  <span class="comment">// </span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (val &gt;= <span class="number">880</span> &amp;&amp; val &lt;= <span class="number">920</span>) &#123;</span><br><span class="line">    <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;other&quot;</span>);  <span class="comment">// </span></span><br><span class="line">  &#125;</span><br><span class="line">   <span class="keyword">if</span> (val &gt;= <span class="number">700</span> &amp;&amp; val &lt;= <span class="number">800</span>) &#123;</span><br><span class="line">    <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot; Black! &quot;</span>);  <span class="comment">// </span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">   <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>[pic]</p>
<h3 id="PART2-Microcontroller-Selection"><a href="#PART2-Microcontroller-Selection" class="headerlink" title="PART2. Microcontroller Selection"></a><strong>PART2.</strong> <strong>Microcontroller Selection</strong></h3><p><strong>Objective: A microcontroller capable of interfacing with multiple analog sensors.</strong></p>
<p>（1）Arduino Uno：6 Analog Inputs</p>
<p>[pic]</p>
<p>（2）Arduino  MEGA 2560【Selected Solution】:16 analog pins (A0-A15) are available, and there are 54 digital input&#x2F;output pins.</p>
<p>[pic]</p>
<h3 id="PART3-Music-Playback-Hardware-Selection"><a href="#PART3-Music-Playback-Hardware-Selection" class="headerlink" title="PART3. Music Playback Hardware Selection"></a><strong>PART3.</strong> <strong>Music Playback Hardware Selection</strong></h3><p><strong>Objective: Finding hardware capable of continuous playback of music segments.</strong></p>
<p>（1）Dfplayer Mini</p>
<p>Hardware limitation: After playing continuously for over ten cycles, there will be a pause&#x2F;reset once.</p>
<p>Reference Tutorial:<a target="_blank" rel="noopener" href="https://wiki.dfrobot.com.cn/_SKU_DFR0299_DFPlayer_Mini%E6%A8%A1%E5%9D%97">https://wiki.dfrobot.com.cn/_SKU_DFR0299_DFPlayer_Mini%E6%A8%A1%E5%9D%97</a></p>
<p>[pic]</p>
<p>（2）Voice Module Serial MP3【Selected Solution】</p>
<p>Capable of continuous music playback with built-in memory and speaker.</p>
<p>Reference Tutorial:<a target="_blank" rel="noopener" href="https://wiki.dfrobot.com.cn/_SKU_DFR0534_Voice_Module">https://wiki.dfrobot.com.cn/_SKU_DFR0534_Voice_Module</a></p>
<p>[pic]</p>
<h3 id="Final-Hardware-Selection-for-the-Solution"><a href="#Final-Hardware-Selection-for-the-Solution" class="headerlink" title="Final Hardware Selection for the Solution"></a>Final Hardware Selection for the Solution</h3><p>[pic]</p>
<h2 id="Hardware-and-Code-Testing-Process"><a href="#Hardware-and-Code-Testing-Process" class="headerlink" title="Hardware and Code Testing Process"></a>Hardware and Code Testing Process</h2><h3 id="1-Implementation-of-Basic-Hardware-Functions"><a href="#1-Implementation-of-Basic-Hardware-Functions" class="headerlink" title="(1) Implementation of Basic Hardware Functions"></a>(1) Implementation of Basic Hardware Functions</h3><ul>
<li>Implement recognition by the grayscale sensor for three colors and detection of absence.</li>
<li>Implement speed control functionality using a rotary potentiometer.</li>
<li>Implement the startup playback function for the LED strip and player to execute sequentially upon pressing a button.</li>
</ul>
<p>【Implementation of Basic Hardware Functions】</p>
<p>[video]</p>
<p><strong>Testing Video Effects: (Testing with Built-in Voice)</strong></p>
<p>Recognize white color - Play “Mom”; Recognize black color - Play “Dad”; Recognize other colors - Play “Grandpa”; Detect absence - Do not play.</p>
<h3 id="2-Complete-Prototype-Functionality-Implementation"><a href="#2-Complete-Prototype-Functionality-Implementation" class="headerlink" title="(2) Complete Prototype Functionality Implementation"></a>(2) Complete Prototype Functionality Implementation</h3><ul>
<li>Connect all hardware components (13 sensors + 3 MP3 modules + LED strip + button) and perform comprehensive testing.</li>
<li>Include a preview functionality for sound effects when placing objects before starting playback.</li>
<li>Allow dynamic adjustment of the melody by placing objects during playback.</li>
<li>Design dimension drawings for the top board based on component sizes and layout.</li>
</ul>
<p>【Complete Prototype Functionality Implementation】</p>
<p>[video]</p>
<p><strong>Video Effects:</strong></p>
<ul>
<li>Recognize white color and play the snapping sound effect.</li>
<li>Press the button to start playing the ‘ding ding’ sound.</li>
<li>Rotate the rotary potentiometer to adjust the playback speed.</li>
<li>Press the button again during playback to pause the music.</li>
</ul>
<h3 id="3-Optimize-the-visual-effects-for-the-preview-functionality"><a href="#3-Optimize-the-visual-effects-for-the-preview-functionality" class="headerlink" title="(3) Optimize the visual effects for the preview functionality"></a>(3) Optimize the visual effects for the preview functionality</h3><ul>
<li>Enhance the preview sound functionality by making the LED corresponding to the placed object blink.</li>
<li>Differentiate the blinking colors for LEDs on different tracks.</li>
<li>Model and 3D print fixtures for sensor placement.</li>
</ul>
<p>【Optimize the visual effects for the preview functionality】</p>
<p>[video]</p>
<p><strong>Video Effects:</strong></p>
<ul>
<li>When objects are placed on different tracks, distinct lighting effects are observed.<ul>
<li>Square track: Corresponding positions blink in yellow.</li>
<li>Petal track: Corresponding positions blink in pink-purple.</li>
<li>Central loop track: All positions blink in blue.</li>
</ul>
</li>
</ul>
<h2 id="Complete-Technical-Solution"><a href="#Complete-Technical-Solution" class="headerlink" title="Complete Technical Solution"></a>Complete Technical Solution</h2><h3 id="Hardware-Relationship-Explanation"><a href="#Hardware-Relationship-Explanation" class="headerlink" title="Hardware Relationship Explanation"></a>Hardware Relationship Explanation</h3><p>[pic]</p>
<h3 id="Code-flow-logic"><a href="#Code-flow-logic" class="headerlink" title="Code flow logic"></a>Code flow logic</h3><p>[pic]</p>
<h3 id="Components-List"><a href="#Components-List" class="headerlink" title="Components List"></a>Components List</h3><ul>
<li>Arduino MEGA 2560 *1</li>
<li>Infrared grayscale sensors *13</li>
<li>Serial MP3 modules *3</li>
<li>WS2812 LED strip *1m</li>
<li>Rotary potentiometer *1</li>
<li>Four-legged tactile switch *1</li>
<li>Resistor *1</li>
<li>Dupont wires, severa</li>
</ul>
<h3 id="Wiring-diagram-12-infrared-sensors-omitted"><a href="#Wiring-diagram-12-infrared-sensors-omitted" class="headerlink" title="Wiring diagram (12 infrared sensors omitted)"></a>Wiring diagram (12 infrared sensors omitted)</h3><p>[pic]</p>
<h3 id="Final-functional-code"><a href="#Final-functional-code" class="headerlink" title="Final functional code"></a>Final functional code</h3><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;SimpleList.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;SoftwareSerial.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;DFRobot_SerialMp3.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;DFRobot_NeoPixel.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;DFRobot_PlayerMini.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 动态变量</span></span><br><span class="line"><span class="keyword">volatile</span> <span class="type">float</span> mind_n_HuiDu;</span><br><span class="line"><span class="comment">// 函数声明</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DF_HuiDuJianCe</span><span class="params">(<span class="type">int</span> mind_n_int)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">preplay</span><span class="params">(<span class="type">int</span> songnumber)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">lighting</span><span class="params">(<span class="type">int</span> site)</span></span>;</span><br><span class="line"><span class="comment">// 创建对象</span></span><br><span class="line">DFRobot_SerialMp3 serialMp3;</span><br><span class="line">DFRobot_NeoPixel  neoPixel_6;</span><br><span class="line"><span class="function"><span class="built_in">SoftwareSerial</span>    <span class="title">softSerialserialMp3</span><span class="params">(<span class="number">2</span>, <span class="number">3</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">DFRobot_PlayerMini mp3_1;</span><br><span class="line"><span class="function"><span class="built_in">SoftwareSerial</span>     <span class="title">softSerialmp3_1</span><span class="params">(<span class="number">50</span>, <span class="number">51</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">DFRobot_PlayerMini mp3_2;</span><br><span class="line"><span class="function"><span class="built_in">SoftwareSerial</span>     <span class="title">softSerialmp3_2</span><span class="params">(<span class="number">52</span>, <span class="number">53</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> buttonPin = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> buttonState = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// 定义变量以存储上一次的按钮状态</span></span><br><span class="line"><span class="type">int</span> lastButtonState = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> playState = <span class="number">1</span>;</span><br><span class="line"><span class="type">int</span> i=<span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> speed=<span class="number">100</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> analogPin = A15;  <span class="comment">// 旋钮连接的模拟引脚</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> list1[<span class="number">13</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> white[<span class="number">13</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="type">int</span> black[<span class="number">13</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="type">int</span> red[<span class="number">13</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="type">int</span> grey[<span class="number">13</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> myNumbers[<span class="number">13</span>] = &#123;<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">4</span>,<span class="number">0</span>,<span class="number">4</span>,<span class="number">0</span>,<span class="number">4</span>,<span class="number">0</span>,<span class="number">4</span>,<span class="number">0</span>&#125;;</span><br><span class="line"><span class="type">int</span> now=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 主程序开始</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="built_in">pinMode</span>(buttonPin, <span class="literal">INPUT</span>);</span><br><span class="line">  <span class="built_in">Serial</span>.<span class="built_in">begin</span>(<span class="number">9600</span>);</span><br><span class="line">  </span><br><span class="line">  neoPixel_6.<span class="built_in">begin</span>(<span class="number">6</span>, <span class="number">30</span>);</span><br><span class="line">  neoPixel_6.<span class="built_in">clear</span>();</span><br><span class="line">  </span><br><span class="line">  serialMp3.<span class="built_in">begin</span>(&amp;softSerialserialMp3);</span><br><span class="line">  serialMp3.<span class="built_in">volume</span>(<span class="number">50</span>);</span><br><span class="line">  <span class="comment">//serialMp3.playList(0);</span></span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  mp3_1.<span class="built_in">begin</span>(&amp;softSerialmp3_1);</span><br><span class="line">        mp3_1.<span class="built_in">volume</span>(<span class="number">20</span>);</span><br><span class="line">        mp3_1.<span class="built_in">start</span>();</span><br><span class="line">        </span><br><span class="line">        mp3_2.<span class="built_in">begin</span>(&amp;softSerialmp3_2);</span><br><span class="line">        mp3_2.<span class="built_in">volume</span>(<span class="number">30</span>);</span><br><span class="line">        <span class="comment">//mp3_2.start();</span></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">loop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> analogValue;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 依次读取A0到A7引脚的模拟值</span></span><br><span class="line">    <span class="comment">//Serial.println(&quot;未播放，可试听&quot;);</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> pin = A10; pin &lt; A11; ++pin) </span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">// 读取模拟值</span></span><br><span class="line">    <span class="comment">//analogValue = analogRead(pin);</span></span><br><span class="line">    <span class="built_in">DF_HuiDuJianCe</span>(pin);</span><br><span class="line">    <span class="comment">// 打印模拟值到串口</span></span><br><span class="line">    <span class="comment">// 等待一小段时间，以便观察结果</span></span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">20</span>);</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">    </span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">  buttonState = <span class="built_in">digitalRead</span>(buttonPin);</span><br><span class="line">  <span class="comment">//playState=1;</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (buttonState != lastButtonState) &#123;</span><br><span class="line">    <span class="comment">// 等待一小段时间以消除抖动</span></span><br><span class="line">    <span class="comment">//delay(50);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 再次读取按钮状态</span></span><br><span class="line">    <span class="comment">//buttonState = digitalRead(buttonPin);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 检查按钮是否被按下</span></span><br><span class="line">    <span class="keyword">if</span> (buttonState == <span class="literal">HIGH</span>) &#123;</span><br><span class="line">      <span class="comment">// 切换LED状态</span></span><br><span class="line">      </span><br><span class="line">      playState=!playState; </span><br><span class="line">      i=<span class="number">0</span>;</span><br><span class="line">      </span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="type">int</span> sensorValue = <span class="built_in">analogRead</span>(analogPin);  <span class="comment">// 读取旋钮的模拟值</span></span><br><span class="line">  <span class="type">float</span> speed = <span class="built_in">map</span>(sensorValue, <span class="number">0</span>, <span class="number">1023</span>, <span class="number">30</span>, <span class="number">100</span>)*<span class="number">0.01</span>;  <span class="comment">// 将模拟值映射到0-100的范围</span></span><br><span class="line"> <span class="comment">// Serial.println(speed);  // 将映射后的值发送到串口监视器</span></span><br><span class="line">    </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (playState==<span class="number">0</span>)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="comment">//mp3_2.pause();</span></span><br><span class="line">    <span class="built_in">Serial</span>.<span class="built_in">print</span>(<span class="string">&quot;当前第&quot;</span>);<span class="built_in">Serial</span>.<span class="built_in">print</span>(i+<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">Serial</span>.<span class="built_in">println</span>(<span class="string">&quot;秒&quot;</span>);</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (i%<span class="number">2</span>==<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">if</span> (myNumbers[i/<span class="number">2</span>+<span class="number">1</span>]&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        </span><br><span class="line">      mp3_2.<span class="built_in">play</span>(myNumbers[i/<span class="number">2</span>+<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">      </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">if</span> (myNumbers[i+<span class="number">5</span>]&gt;<span class="number">0</span>)&#123;</span><br><span class="line">      mp3_1.<span class="built_in">play</span>(myNumbers[i+<span class="number">5</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (myNumbers[<span class="number">0</span>]&gt;<span class="number">0</span>)&#123;</span><br><span class="line">      serialMp3.<span class="built_in">playList</span>(myNumbers[<span class="number">0</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">200</span>*speed);</span><br><span class="line">    neoPixel_6.<span class="built_in">setRangeColor</span>(i*<span class="number">3</span>, i*<span class="number">3</span>, <span class="number">0xFFFFFF</span>);</span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">1200</span>*speed);</span><br><span class="line">          neoPixel_6.<span class="built_in">clear</span>();</span><br><span class="line">          <span class="built_in">delay</span>(<span class="number">600</span>*speed);</span><br><span class="line">    i=i+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (i==<span class="number">8</span>)&#123;i=<span class="number">0</span>;&#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 存储当前按钮状态以便下一次比较</span></span><br><span class="line">  lastButtonState = buttonState;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">DF_HuiDuJianCe</span><span class="params">(<span class="type">int</span> pinnumber)</span> </span>&#123;</span><br><span class="line">        mind_n_HuiDu = <span class="built_in">analogRead</span>(pinnumber);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">Serial</span>.<span class="built_in">print</span>(<span class="string">&quot;Analog value at &quot;</span>);    </span><br><span class="line">        <span class="built_in">Serial</span>.<span class="built_in">print</span>(pinnumber);    </span><br><span class="line">        <span class="built_in">Serial</span>.<span class="built_in">print</span>(<span class="string">&quot;: &quot;</span>);</span><br><span class="line"> <span class="built_in">Serial</span>.<span class="built_in">println</span>(mind_n_HuiDu);</span><br><span class="line"><span class="built_in">Serial</span>.<span class="built_in">println</span>(list1[pinnumber<span class="number">-54</span>]);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (((mind_n_HuiDu&gt;<span class="number">880</span>) &amp;&amp; (mind_n_HuiDu&lt;=<span class="number">1000</span>))) &#123;</span><br><span class="line">                <span class="comment">//白色</span></span><br><span class="line">                now=<span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">if</span> (((mind_n_HuiDu&gt;black[pinnumber]<span class="number">-5</span>) &amp;&amp; (mind_n_HuiDu&lt;=black[pinnumber]+<span class="number">5</span>))) &#123;</span><br><span class="line">                <span class="comment">//黑色</span></span><br><span class="line">                now=<span class="number">2</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">if</span> (((mind_n_HuiDu&gt;red[pinnumber]<span class="number">-5</span>) &amp;&amp; (mind_n_HuiDu&lt;=red[pinnumber]+<span class="number">5</span>))) &#123;</span><br><span class="line">                <span class="comment">//红色</span></span><br><span class="line">                now=<span class="number">3</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">if</span> (((mind_n_HuiDu&gt;red[pinnumber]<span class="number">-5</span>) &amp;&amp; (mind_n_HuiDu&lt;=red[pinnumber]+<span class="number">5</span>))) &#123;</span><br><span class="line">                <span class="comment">//灰色</span></span><br><span class="line">                now=<span class="number">4</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span></span><br><span class="line">        &#123; now=<span class="number">0</span>;        &#125;</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (now !=list1[pinnumber<span class="number">-54</span>])&#123;</span><br><span class="line">          list1[pinnumber<span class="number">-54</span>]=now;</span><br><span class="line">          <span class="keyword">if</span> ((now!=<span class="number">0</span>)&amp;&amp;(playState!=<span class="number">0</span>))&#123;</span><br><span class="line">            <span class="built_in">preplay</span>(now);</span><br><span class="line">            <span class="built_in">lighting</span>(pinnumber<span class="number">-54</span>);</span><br><span class="line">            </span><br><span class="line">          &#125;</span><br><span class="line">          </span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">preplay</span><span class="params">(<span class="type">int</span> songnumber)</span></span>&#123;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  serialMp3.<span class="built_in">playList</span>(songnumber);</span><br><span class="line">  <span class="comment">//delay(50);</span></span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">lighting</span><span class="params">(<span class="type">int</span> site)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (site == <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">// 中心轨道 亮蓝色</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> n = <span class="number">0</span>; n &lt; <span class="number">8</span>; ++n) &#123;</span><br><span class="line">      neoPixel_6.<span class="built_in">setRangeColor</span>(n * <span class="number">3</span>, n * <span class="number">3</span>, <span class="number">0x3366FF</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">    neoPixel_6.<span class="built_in">clear</span>();</span><br><span class="line"></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> ((site &gt; <span class="number">0</span>) &amp;&amp; (site &lt;= <span class="number">4</span>)) &#123;</span><br><span class="line">    <span class="comment">// 方形轨道 亮黄色</span></span><br><span class="line">    neoPixel_6.<span class="built_in">setRangeColor</span>(site * <span class="number">6</span> - <span class="number">6</span>, site * <span class="number">6</span> - <span class="number">6</span>, <span class="number">0xFFFF00</span>);</span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">    neoPixel_6.<span class="built_in">clear</span>();</span><br><span class="line"></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 花瓣轨道 亮粉色</span></span><br><span class="line">    neoPixel_6.<span class="built_in">setRangeColor</span>(site * <span class="number">3</span> - <span class="number">15</span>, site * <span class="number">3</span> - <span class="number">15</span>, <span class="number">0xCC66CC</span>);</span><br><span class="line">    <span class="built_in">delay</span>(<span class="number">500</span>);</span><br><span class="line">    neoPixel_6.<span class="built_in">clear</span>();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="Prototype-layout-drawings"><a href="#Prototype-layout-drawings" class="headerlink" title="Prototype layout drawings"></a>Prototype layout drawings</h3><p>[pic]</p>
<h3 id="Grayscale-sensor-bracket-fabrication"><a href="#Grayscale-sensor-bracket-fabrication" class="headerlink" title="Grayscale sensor bracket fabrication"></a>Grayscale sensor bracket fabrication</h3><p>[pic]</p>
<h3 id="Rapid-Prototype-Testing"><a href="#Rapid-Prototype-Testing" class="headerlink" title="Rapid Prototype Testing"></a>Rapid Prototype Testing</h3><p>[pic]</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a target="_blank" rel="noopener" href="https://wiki.dfrobot.com.cn/_SKU_DFR0534_Voice_Module">https://wiki.dfrobot.com.cn/_SKU_DFR0534_Voice_Module</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/lzxiaotu/article/details/128394725">https://blog.csdn.net/lzxiaotu/article/details/128394725</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_41659040/article/details/132161695">https://blog.csdn.net/weixin_41659040/article/details/132161695</a></p>
<p><a target="_blank" rel="noopener" href="https://wiki.dfrobot.com.cn/_SKU_DFR0299_DFPlayer_Mini%E6%A8%A1%E5%9D%97">https://wiki.dfrobot.com.cn/_SKU_DFR0299_DFPlayer_Mini%E6%A8%A1%E5%9D%97</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/sdagv/article/details/121152791">https://blog.csdn.net/sdagv/article/details/121152791</a></p>

      </div>
      
      
      
    </div>
  <ul class="breadcrumb">
            <li><a href="/2023zjude-ORG030/Final%20Project/">FINAL PROJECT</a></li>
            <li><a href="/2023zjude-ORG030/Final%20Project/Technology%20Implementation/">TECHNOLOGY IMPLEMENTATION</a></li>
          <li>HARDWARE SELECTION & TECHNICAL SOLUTION TESTING</li>
  </ul>

    
    


</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2023 – 
    <span itemprop="copyrightYear">2024</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Adrenaline</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lozad.js/1.16.0/lozad.min.js" integrity="sha256-mOFREFhqmHeQbXpK2lp4nA3qooVgACfh88fpJftLBbc=" crossorigin="anonymous"></script>
<script src="/2023zjude-ORG030/js/comments.js"></script><script src="/2023zjude-ORG030/js/utils.js"></script><script src="/2023zjude-ORG030/js/motion.js"></script><script src="/2023zjude-ORG030/js/next-boot.js"></script><script src="/2023zjude-ORG030/js/pjax.js"></script>

  




  <script src="/2023zjude-ORG030/js/third-party/pace.js"></script>


  





</body>
</html>
